@model gellmvc.Models.StoreListViewModel
@using gellmvc.Domain.Entities

<input type="hidden" id="page-location" name="page-location" value="store">

<div class="row">
  <div class="col-xs-12" style="padding-left: 30px; padding-right: 30px;">

    @{ var vis = (Model.ShowWelcomeText) ? "block" : "none"; }
    <div class="row" style="margin: 10px; margin-bottom:25px; margin-top:10px;">
      <div class="col-sm-1 hidden-xs"></div>
      <div class="col-sm-10 col-xs-12" id="landing-welcome" style="background-color:white; display: @vis;">
        @* @Html.Partial("~/Views/Store/_x_btn.cshtml", Model)*@
        <h4 style="line-height: 150%; text-align:justify;" class="visible-xs">
          This is a simulated online store. Click below to add items to your cart. You can place an order without needing to provide payment info.
        </h4>
        <h4 style="line-height: 150%; text-align:center;" class="hidden-xs">
          This is a simulated online store. Click below to add items to your cart.<br />You can place an order without needing to provide payment info.
        </h4>
      </div>
      <div class="col-sm-1 hidden-xs"></div>
    </div>

    <div class="centeredProducts">

      <div class="row">
        <div class="col-xs-12">
          <div class="text-center">
            <h1>Shop for Gadgets</h1>
            <h3>
              Available Products:
            </h3>
          </div>
        </div>
      </div>

      @* Search Products *@
      <div class="row">
        <div class="col-sm-12" id="product-search-div">
          <div class="input-group product-search-group">
            <!-- Search input-->
            @*<input type="search" class="form-control product-search-control" id="product-search-input" name="product-search-input" value="@Model.SearchString" />*@
            <input type="search" class="form-control product-search-control" id="product-search-input" name="SearchString" value="@Model.SearchString" />
            <!-- Search button -->
            <span class="input-group-btn">
              <a href="@Url.Action("Search", "Store", new { @searchString = ""})" id="product-search-button" class="btn btn-default product-search-control" name="product-search-button" type="button">
                <span class="glyphicon glyphicon-search"></span>
                Search
              </a>
            </span>
          </div>
        </div>
      </div>

      @* Pagination top *@
      <div class="row">
        <div class="col-xs-12">
          <div class="text-center">
            @Html.Partial("~/Views/Partials/Shopping/_Pager.cshtml", Model.Pager)
          </div>
        </div>
      </div>

      <hr class="narrow-hr short-hr-margin" />

      @* Products *@
      <form role="form">
        @foreach (ProductLine line in Model.ProductLines)
        {
          @Html.Partial("~/Views/Partials/Shopping/Store/_ProductLine.cshtml", line)
        }
      </form>

      @* Pagination bottom *@
      <div class="row">
        <div class="col-xs-12">
          <div class="text-center">
            @Html.Partial("~/Views/Partials/Shopping/_Pager.cshtml", Model.Pager)
          </div>
        </div>
      </div>

      @* Go to cart button. This is OUTSIDE of the form element above. Problem? *@
      <div class="row">
        <div class="col-md-12">
          <div class="text-center">
            @Html.ActionLink("Go to Cart",
                "Index", // method
                "Cart",  // controller
                null,    // route arguments
                new { @class = "btn btn-default go-next-btn" } // html arguments
            )
          </div>
        </div>
      </div>

      <div class="row" style="height:200px;">
      </div>

    </div>
  </div>
</div>
