@model gellmvc.Domain.Entities.Order

@{
  var showImages = (bool)ViewData["showImages"];
  var headerColStyle = (showImages) ? "col-xs-8" : "col-xs-12";
}

<div class="row tiny-font">
  <div class="@headerColStyle">

    <p>
      <strong>Order #</strong>@Model.Id
      &nbsp
      <strong>Created:</strong>
      @Model.OrderDate.ToString("dd MMMM yyyy hh:mm tt")
    </p>

    <small>
      <p>
        <strong>Shipping Address:</strong>
        @if (Model.ShippingAddress == null) {
          @:"None"
        } else {
          @Model.ShippingAddress.OneLine()
        }
      </p>

      <p>
        <strong>Billing Address:</strong>
        @if (Model.BillingAddress == null)
        {
          @:"None"
        }
        else
        {
          @Model.BillingAddress.OneLine()
        }
      </p>

      <p>
        <strong>Product Lines:</strong> @Model.ProductLinesCount()
        &nbsp
        <strong>Total Items:</strong> @Model.GetTotalItems()
        &nbsp
        <strong>Invoice Total:</strong> $@Model.GrandTotal()
      </p>
    </small>

    <p>
      <strong>Status:</strong>
      <small>@Model.OrderStatus</small>
    </p>

  </div>

  @* Render the image tags that are displayed within the Head partial, this is only on the Orders Index page. *@
  @{if (showImages == true){

    <div class="col-xs-4" style="border: 1px solid #f6f6f6; border-radius: 5px; min-height: 139px;">
      <div class="row" style="padding-right:18px;">

        @for (int i = 0; i < Model.OrderedProducts.Count(); i++)
        {
          var op = Model.OrderedProducts.ElementAt(i);
          <!-- Image tag, always visible -->
          <div class="col-xs-3">
            @{
              string imgFolder = gellmvc.Helpers.ApplicationHelper.ProductImagesFolder();
            }
            @*<img src="@imgFolder/@op.Product.ImageUrl" alt="@imgFolder/@op.Product.ImageUrl" class="img-rounded img-responsive centered-block-img with-vert-margins" style="max-width: 40px;" />*@
            <img src="@imgFolder/@op.Product.ImageUrl" alt="@imgFolder/@op.Product.ImageUrl" class="" style="max-width: 40px; display: inline-block;" />
          </div>
        }

      </div>
    </div>
  }}

</div>